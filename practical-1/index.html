<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real-Time Voting System</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      :root {
        --color-primary: #6366f1;
        --color-primary-dark: #4f46e5;
        --color-primary-light: #8b5cf6;
        --color-secondary: #10b981;
        --color-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --color-text: #1f2937;
        --color-text-light: #6b7280;
        --color-border: #e5e7eb;
        --color-card: #ffffff;
        --color-success: #10b981;
        --color-warning: #f59e0b;
        --color-error: #ef4444;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        --border-radius: 16px;
        --border-radius-sm: 8px;
      }
      
      * {
        box-sizing: border-box;
      }
      
      body {
        background: var(--color-bg);
        color: var(--color-text);
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        margin: 0;
        padding: 20px;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        line-height: 1.6;
      }
      
      .container {
        background: var(--color-card);
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-xl);
        padding: 40px 32px;
        min-width: 400px;
        max-width: 480px;
        width: 100%;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        position: relative;
        overflow: hidden;
      }
      
      .container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--color-primary), var(--color-primary-light));
      }
      
      .header {
        text-align: center;
        margin-bottom: 32px;
      }
      
      h1 {
        font-size: 28px;
        font-weight: 700;
        margin: 0 0 8px 0;
        background: linear-gradient(135deg, var(--color-primary), var(--color-primary-light));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .subtitle {
        font-size: 16px;
        color: var(--color-text-light);
        margin: 0;
        font-weight: 400;
      }
      
      .poll {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 32px;
      }
      
      .vote-btn {
        background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
        color: #fff;
        border: none;
        border-radius: var(--border-radius-sm);
        padding: 16px 24px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: var(--shadow-md);
        font-family: inherit;
      }
      
      .vote-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
      }
      
      .vote-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        background: linear-gradient(135deg, var(--color-primary-dark), var(--color-primary));
      }
      
      .vote-btn:hover::before {
        left: 100%;
      }
      
      .vote-btn:active {
        transform: translateY(0);
        box-shadow: var(--shadow-md);
      }
      
      .vote-btn i {
        font-size: 18px;
      }
      
      .results-section {
        border-top: 2px solid var(--color-border);
        padding-top: 24px;
        margin-top: 8px;
      }
      
      .results-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
      }
      
      .results-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--color-text);
        margin: 0;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      
      .total-votes {
        font-size: 14px;
        color: var(--color-text-light);
        background: var(--color-border);
        padding: 4px 12px;
        border-radius: 20px;
        font-weight: 500;
      }
      
      .result-row {
        display: flex;
        flex-direction: column;
        margin-bottom: 16px;
        padding: 12px;
        border-radius: var(--border-radius-sm);
        background: #f9fafb;
        border: 1px solid var(--color-border);
        transition: all 0.2s ease;
      }
      
      .result-row:hover {
        box-shadow: var(--shadow-sm);
        border-color: var(--color-primary);
      }
      
      .result-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
      }
      
      .language-name {
        font-weight: 600;
        color: var(--color-text);
        display: flex;
        align-items: center;
        gap: 8px;
      }
      
      .votes-count {
        font-weight: 700;
        color: var(--color-primary);
        font-size: 18px;
      }
      
      .progress-bar {
        width: 100%;
        height: 8px;
        background: var(--color-border);
        border-radius: 4px;
        overflow: hidden;
        position: relative;
      }
      
      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--color-primary), var(--color-primary-light));
        border-radius: 4px;
        transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
      }
      
      .progress-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: shimmer 2s infinite;
      }
      
      @keyframes shimmer {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
      }
      
      .percentage {
        font-size: 12px;
        color: var(--color-text-light);
        font-weight: 500;
        margin-top: 4px;
      }
      
      .live-indicator {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
        color: var(--color-success);
        font-weight: 500;
        margin-top: 16px;
      }
      
      .live-dot {
        width: 8px;
        height: 8px;
        background: var(--color-success);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }
      
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }
      
      .vote-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--color-success);
        color: white;
        padding: 12px 20px;
        border-radius: var(--border-radius-sm);
        box-shadow: var(--shadow-lg);
        transform: translateX(100%);
        opacity: 0;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 500;
      }
      
      .vote-notification.show {
        transform: translateX(0);
        opacity: 1;
      }
      
      @media (max-width: 480px) {
        .container {
          min-width: unset;
          margin: 10px;
          padding: 24px 20px;
        }
        
        h1 {
          font-size: 24px;
        }
        
        .vote-btn {
          padding: 14px 20px;
          font-size: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1><i class="fas fa-poll"></i> Vote Your Favorite Language</h1>
        <p class="subtitle">Cast your vote and see real-time results</p>
      </div>
      
      <div class="poll">
        <button class="vote-btn" onclick="vote('JavaScript')" data-lang="JavaScript">
          <i class="fab fa-js-square"></i>
          JavaScript
        </button>
        <button class="vote-btn" onclick="vote('Python')" data-lang="Python">
          <i class="fab fa-python"></i>
          Python
        </button>
        <button class="vote-btn" onclick="vote('Java')" data-lang="Java">
          <i class="fab fa-java"></i>
          Java
        </button>
        <button class="vote-btn" onclick="vote('C++')" data-lang="C++">
          <i class="fas fa-code"></i>
          C++
        </button>
      </div>
      
      <div class="results-section">
        <div class="results-header">
          <h3 class="results-title">
            <i class="fas fa-chart-bar"></i>
            Results
          </h3>
          <span class="total-votes" id="total-votes">0 votes</span>
        </div>
        
        <div class="result-row" data-lang="JavaScript">
          <div class="result-header">
            <span class="language-name">
              <i class="fab fa-js-square"></i>
              JavaScript
            </span>
            <span class="votes-count" id="votes-JavaScript">0</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-JavaScript" style="width: 0%"></div>
          </div>
          <div class="percentage" id="percentage-JavaScript">0%</div>
        </div>
        
        <div class="result-row" data-lang="Python">
          <div class="result-header">
            <span class="language-name">
              <i class="fab fa-python"></i>
              Python
            </span>
            <span class="votes-count" id="votes-Python">0</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-Python" style="width: 0%"></div>
          </div>
          <div class="percentage" id="percentage-Python">0%</div>
        </div>
        
        <div class="result-row" data-lang="Java">
          <div class="result-header">
            <span class="language-name">
              <i class="fab fa-java"></i>
              Java
            </span>
            <span class="votes-count" id="votes-Java">0</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-Java" style="width: 0%"></div>
          </div>
          <div class="percentage" id="percentage-Java">0%</div>
        </div>
        
        <div class="result-row" data-lang="C++">
          <div class="result-header">
            <span class="language-name">
              <i class="fas fa-code"></i>
              C++
            </span>
            <span class="votes-count" id="votes-C++">0</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-C++" style="width: 0%"></div>
          </div>
          <div class="percentage" id="percentage-C++">0%</div>
        </div>
        
        <div class="live-indicator">
          <span class="live-dot"></span>
          Live updates every 2 seconds
        </div>
      </div>
    </div>
    
    <div class="vote-notification" id="vote-notification">
      <i class="fas fa-check-circle"></i>
      <span id="notification-text">Vote recorded!</span>
    </div>
    <script>
      // Votes object: keeps track of current vote counts
      const votes = {
        JavaScript: 0,
        Python: 0,
        Java: 0,
        "C++": 0,
      };

      // Language colors for dynamic styling
      const languageColors = {
        JavaScript: '#f7df1e',
        Python: '#3776ab',
        Java: '#ed8b00',
        'C++': '#00599c'
      };

      // Vote function: increments vote for selected language
      function vote(language) {
        votes[language]++;
        updateVotes();
        showNotification(`Vote for ${language} recorded!`);
        animateVoteButton(language);
      }

      // Show notification when user votes
      function showNotification(message) {
        const notification = document.getElementById('vote-notification');
        const notificationText = document.getElementById('notification-text');
        
        notificationText.textContent = message;
        notification.classList.add('show');
        
        setTimeout(() => {
          notification.classList.remove('show');
        }, 3000);
      }

      // Animate vote button when clicked
      function animateVoteButton(language) {
        const button = document.querySelector(`[data-lang="${language}"]`);
        button.style.transform = 'scale(0.95)';
        button.style.background = `linear-gradient(135deg, ${languageColors[language]}, ${languageColors[language]}dd)`;
        
        setTimeout(() => {
          button.style.transform = '';
          button.style.background = '';
        }, 200);
      }

      // Calculate total votes
      function getTotalVotes() {
        return Object.values(votes).reduce((sum, count) => sum + count, 0);
      }

      // UpdateVotes function: updates the displayed vote counts and progress bars
      function updateVotes() {
        const totalVotes = getTotalVotes();
        
        // Update total votes display
        document.getElementById('total-votes').textContent = 
          `${totalVotes} ${totalVotes === 1 ? 'vote' : 'votes'}`;

        // Update each language's display
        for (const lang in votes) {
          const voteCount = votes[lang];
          const percentage = totalVotes > 0 ? (voteCount / totalVotes * 100).toFixed(1) : 0;
          
          // Update vote count
          document.getElementById(`votes-${lang}`).textContent = voteCount;
          
          // Update progress bar
          const progressBar = document.getElementById(`progress-${lang}`);
          progressBar.style.width = `${percentage}%`;
          
          // Update percentage text
          document.getElementById(`percentage-${lang}`).textContent = `${percentage}%`;
          
          // Add dynamic color to progress bar
          if (voteCount > 0) {
            progressBar.style.background = 
              `linear-gradient(90deg, ${languageColors[lang]}, ${languageColors[lang]}bb)`;
          }
          
          // Highlight the leading language
          const resultRow = document.querySelector(`[data-lang="${lang}"]`);
          if (voteCount > 0 && voteCount === Math.max(...Object.values(votes))) {
            resultRow.style.borderColor = languageColors[lang];
            resultRow.style.background = `${languageColors[lang]}10`;
          } else {
            resultRow.style.borderColor = '';
            resultRow.style.background = '';
          }
        }
        
        // Sort results by vote count (optional visual enhancement)
        sortResults();
      }

      // Sort results by vote count for better visualization
      function sortResults() {
        const resultsSection = document.querySelector('.results-section');
        const resultRows = Array.from(document.querySelectorAll('.result-row'));
        const resultsHeader = document.querySelector('.results-header');
        const liveIndicator = document.querySelector('.live-indicator');
        
        // Sort by vote count (descending)
        resultRows.sort((a, b) => {
          const langA = a.getAttribute('data-lang');
          const langB = b.getAttribute('data-lang');
          return votes[langB] - votes[langA];
        });
        
        // Re-append in sorted order
        resultRows.forEach(row => {
          resultsSection.appendChild(row);
        });
        
        // Keep header and live indicator at correct positions
        resultsSection.insertBefore(resultsHeader, resultsSection.firstChild);
        resultsSection.appendChild(liveIndicator);
      }

      // Add smooth counter animation
      function animateCounter(elementId, targetValue) {
        const element = document.getElementById(elementId);
        const currentValue = parseInt(element.textContent);
        const increment = targetValue > currentValue ? 1 : -1;
        const duration = 500; // milliseconds
        const steps = Math.abs(targetValue - currentValue);
        const stepDuration = steps > 0 ? duration / steps : 0;
        
        if (steps === 0) return;
        
        let current = currentValue;
        const timer = setInterval(() => {
          current += increment;
          element.textContent = current;
          
          if (current === targetValue) {
            clearInterval(timer);
          }
        }, stepDuration);
      }

      // Enhanced update function with animations
      function updateVotesAnimated() {
        const totalVotes = getTotalVotes();
        
        // Update total votes with animation
        const totalElement = document.getElementById('total-votes');
        const currentTotal = parseInt(totalElement.textContent.split(' ')[0]) || 0;
        if (totalVotes !== currentTotal) {
          totalElement.textContent = `${totalVotes} ${totalVotes === 1 ? 'vote' : 'votes'}`;
        }

        // Update each language with animations
        for (const lang in votes) {
          const voteCount = votes[lang];
          const percentage = totalVotes > 0 ? (voteCount / totalVotes * 100).toFixed(1) : 0;
          
          // Update vote count
          const voteElement = document.getElementById(`votes-${lang}`);
          const currentVotes = parseInt(voteElement.textContent);
          if (voteCount !== currentVotes) {
            animateCounter(`votes-${lang}`, voteCount);
          }
          
          // Update progress bar with smooth transition
          const progressBar = document.getElementById(`progress-${lang}`);
          progressBar.style.width = `${percentage}%`;
          
          // Update percentage text
          document.getElementById(`percentage-${lang}`).textContent = `${percentage}%`;
          
          // Add dynamic color to progress bar
          if (voteCount > 0) {
            progressBar.style.background = 
              `linear-gradient(90deg, ${languageColors[lang]}, ${languageColors[lang]}bb)`;
          }
        }
      }

      // Initialize the display
      updateVotes();

      // setInterval: simulates real-time updates from other users
      setInterval(() => {
        // Randomly pick a language to increment
        const langs = Object.keys(votes);
        const randomLang = langs[Math.floor(Math.random() * langs.length)];
        votes[randomLang]++;
        updateVotesAnimated();
      }, 2000);

      // Add keyboard support
      document.addEventListener('keydown', (e) => {
        const keyMap = {
          '1': 'JavaScript',
          '2': 'Python', 
          '3': 'Java',
          '4': 'C++'
        };
        
        if (keyMap[e.key]) {
          vote(keyMap[e.key]);
        }
      });

      // Add button hover effects with dynamic colors
      document.querySelectorAll('.vote-btn').forEach(button => {
        const lang = button.getAttribute('data-lang');
        
        button.addEventListener('mouseenter', () => {
          button.style.background = 
            `linear-gradient(135deg, ${languageColors[lang]}, ${languageColors[lang]}dd)`;
        });
        
        button.addEventListener('mouseleave', () => {
          button.style.background = '';
        });
      });

      // Add visual feedback for real-time updates
      let lastUpdateTime = Date.now();
      setInterval(() => {
        const timeSinceUpdate = Date.now() - lastUpdateTime;
        const liveIndicator = document.querySelector('.live-indicator');
        
        if (timeSinceUpdate < 100) {
          liveIndicator.style.color = '#10b981';
        } else {
          liveIndicator.style.color = '#6b7280';
        }
        
        lastUpdateTime = Date.now();
      }, 100);
    </script>
  </body>
</html>
